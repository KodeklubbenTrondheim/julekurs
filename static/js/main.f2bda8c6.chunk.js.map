{"version":3,"sources":["components/blockly-custom-blocks.js","store.js","constants.js","components/CodeEditor.js","components/Button.js","components/CodePreview.js","components/Graphics.js","pages/julekort/index.js","pages/oppgaver/index.js","pages/galleri/index.js","pages/profil/index.js","components/Header.js","firebase.js","App.js","reportWebVitals.js","index.js"],"names":["Blockly","setLocale","Nb","Blocks","init","this","jsonInit","message0","args0","type","name","check","previousStatement","nextStatement","colour","tooltip","Python","block","value","valueToCode","ORDER_ATOMIC","inputsInline","x","y","appendDummyInput","appendField","setPreviousStatement","setNextStatement","setColour","setTooltip","message1","args1","checked","message2","args2","message3","args3","dir","getFieldValue","r","a","FieldColour","g","b","size","FieldTextInput","text","FieldNumber","FieldDropdown","src","process","width","height","alt","align","shape","Msg","MATH_CHANGE_TITLE","CONTROLS_REPEAT_INPUT_DO","MATH_RANDOM_INT_TITLE","preDefinedPythonCode","extraPythonCodeForTheBrowserRendering","useStore","create","set","pythonErrorLineNumberOffset","split","length","pythonCode","localStorage","getItem","setPythonCode","setItem","javascriptCode","setJavascriptCode","blocklyPythonCode","setBlocklyPythonCode","downloadablePythonCode","setDownloadablePythonCode","blocklyXml","setBlocklyXml","blocklyWorkspace","setBlocklyWorkspace","editorMode","setEditorMode","editor","setEditor","isPythonCodeEditable","setIsPythonCodeEditable","canvas","setCanvas","canvasColor","setCanvasColor","showGrid","setShowGrid","log","addLog","content","error","state","setError","clearError","userId","setUserId","title","setTitle","image","setImage","CSSShadows","small","css","medium","large","useBreakpoint","createBreakpoint","L","S","getHeight","CodeEditor","above","below","language","onChange","props","Container","theme","code","className","onMount","messageContribution","getContribution","onDidAttemptReadOnlyEdit","showMessage","getPosition","options","scrollBeyondLastLine","wordWrap","automaticLayout","renderWhitespace","readOnly","scrollbar","alwaysConsumeMouseWheel","minimap","enabled","toolboxConfiguration","kind","contents","blockxml","gap","callbackKey","BlocklyEditor","initialXml","onXmlChange","onWorkspaceChange","useCallback","workspace","workspaceToCode","style","StyledBlocklyWorkspace","workspaceConfiguration","grid","spacing","snap","collapse","scrollbars","onInject","createVariable","registerButtonCallback","Variables","createVariableButtonHandler","xml","styled","div","BlocklyWorkspace","ButtonStyles","$color","$textColor","$size","$hoverColor","Button","button","LinkButton","CodePreview","useState","HTML","setHTML","useEffect","Prism","highlight","languages","dangerouslySetInnerHTML","__html","pre","colors","Graphics","imageNumber","fullScreen","canvasRef","useRef","canvasGridRef","canvasCtxRef","turtleCanvasContainerRef","color","setThrottledCanvasColor","throttledCanvasColor","useThrottleFn","current","getContext","fillStyle","fillRect","ctx","clearRect","isDark","parseInt","slice","beginPath","moveTo","lineTo","lineWidth","strokeStyle","stroke","font","textAlign","textBaseline","fillText","generateImage","download","turtleCanvas","children","first","drawImage","base64String","toDataURL","linkElement","document","createElement","replace","href","click","window","BottomSettings","BottomContainer","onClick","preImageNumber","GraphicsContainer","$fixedPosition","$fullScreen","TopContainer","ToggleGrid","isSelected","VerticalDivider","$dark","map","ChangeColorButton","ColorPicker","includes","e","target","Canvas","ref","CanvasContainer","id","CanvasGrid","ShowError","whiteSpace","message","lineNumber","getNLinesAbove","join","line","getNLinesBelow","input","attrs","JulekortSide","embedded","useParams","prosjektId","history","useHistory","projectData","setProjectData","isLoadingProject","youAreOwner","setYouAreOwner","codeIsSaving","setCodeIsSaving","codeGotSaved","setCodeGotSaved","updateImageNumber","shareModal","openShareModal","waitingToDownloadImage","waitToDownloadImage","useCopyToClipboard","copyToClipboard","store","pythonEngineLoading","setLoadingPython","getProject","getDoc","doc","getFirestore","docSnap","exists","data","clear","Xml","textToDom","clearWorkspaceAndLoadFromXml","console","alert","author","push","setOptions","output","item","onLoading","engine","onLoaded","loadVariablesBeforeRun","storeVariablesAfterRun","setEngine","EditorHeader","runCodeFunction","StyledEditorHeader","SaveButton","save","remix","deleteProject","RunButton","getTitle","newTitle","prompt","captureAndUploadImage","storage","getStorage","imageRef","uploadString","getDownloadURL","setDoc","modified","Date","usingPython","merge","login","email","addDoc","collection","created","docRef","updateDoc","projects","arrayUnion","copiedFrom","arrayRemove","deleteDoc","afterCodeRun","n","runPythonCode","run","monaco","setModelMarkers","getModel","runCode","turtleGraphics","assets","lineNumberInEditor","startLineNumber","startColumn","endLineNumber","endColumn","severity","source","runBlocklyCode","hasRan","EmbeddedView","location","origin","EditableTitle","placeholder","ShareModalContainer","ShareModal","stopPropagation","CloseModalButton","marginTop","OpenInFullScreen","rel","LinkShareContainer","LinkShare","CopyLinkButton","setTimeout","i","md","mdIt","langPrefix","hljs","getLanguage","ex","OppgaveOversiktSide","tasks","setTasks","fetch","then","json","index","oppgaver","TasksContainer","TaskLevelContainer","filter","level","task","Task","to","googleDocs","LinkImage","OppgaveSide","setTask","oppgaveId","isDocs","setIsDocs","docsUrl","setDocsUrl","endsWith","find","markdown","GoogleDocsContainer","GoogleDocsEmbedded","TaskContainer","Markdown","renderedMarkdown","setRenderedMarkdown","render","RenderedMarkdown","Link","img","iframe","GalleriSide","useCollection","snapshotListenOptions","includeMetadataChanges","loading","margin","JSON","stringify","ProjectsContainer","docs","sort","seconds","Project","ThumbnailImage","ProfilSide","useDocumentOnce","project","ProjectItem","Header","path","useLocation","pathname","Image","TextContainer","StyledLink","$active","startsWith","firebaseApp","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","getAuth","password","signInWithEmailAndPassword","createUserWithEmailAndPassword","logout","signOut","App","useAuthState","user","LoginContainer","Content","exact","IntroImages","IntroImage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f2bda8c6.chunk.js","sourcesContent":["import Blockly from 'blockly'\nimport 'blockly/python'\nimport * as Nb from 'blockly/msg/nb'\n\nBlockly.setLocale(Nb)\n\nBlockly.Blocks['speed'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.jsonInit({\n      message0: 'hastighet %1',\n      args0: [\n        {\n          type: 'input_value',\n          name: 'SPEED',\n          check: 'Number',\n        },\n      ],\n      previousStatement: null,\n      nextStatement: null,\n      colour: 900,\n      tooltip: 'Endre hastigheten på avataren (0 er superraskt)',\n    })\n  },\n}\n\nBlockly.Python['speed'] = function (block) {\n  const value = Blockly.Python.valueToCode(block, 'SPEED', Blockly.Python.ORDER_ATOMIC) || '0'\n  return `speed(${value})\\n`\n}\n\nBlockly.Blocks['forward'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.jsonInit({\n      message0: 'fremover %1',\n      args0: [\n        {\n          type: 'input_value',\n          name: 'DISTANCE',\n          check: 'Number',\n        },\n      ],\n      previousStatement: null,\n      nextStatement: null,\n      colour: 900,\n      tooltip: 'Flytt avataren fremover',\n    })\n  },\n}\n\nBlockly.Python['forward'] = function (block) {\n  const value = Blockly.Python.valueToCode(block, 'DISTANCE', Blockly.Python.ORDER_ATOMIC) || '0'\n  return `forward(${value})\\n`\n}\n\nBlockly.Blocks['backward'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.jsonInit({\n      message0: 'bakover %1',\n      args0: [\n        {\n          type: 'input_value',\n          name: 'DISTANCE',\n          check: 'Number',\n        },\n      ],\n      previousStatement: null,\n      nextStatement: null,\n      colour: 900,\n      tooltip: 'Flytt avataren bakover',\n    })\n  },\n}\n\nBlockly.Python['backward'] = function (block) {\n  const value = Blockly.Python.valueToCode(block, 'DISTANCE', Blockly.Python.ORDER_ATOMIC) || '0'\n  return `backward(${value})\\n`\n}\n\nBlockly.Blocks['goto'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.jsonInit({\n      message0: 'gå til x: %1 y: %2',\n      args0: [\n        {\n          type: 'input_value',\n          name: 'X',\n          check: 'Number',\n        },\n        {\n          type: 'input_value',\n          name: 'Y',\n          check: 'Number',\n        },\n      ],\n      inputsInline: true,\n      previousStatement: null,\n      nextStatement: null,\n      colour: 900,\n      tooltip: 'Flytt avataren til en posisjon',\n    })\n  },\n}\n\nBlockly.Python['goto'] = function (block) {\n  const x = Blockly.Python.valueToCode(block, 'X', Blockly.Python.ORDER_ATOMIC) || '0'\n  const y = Blockly.Python.valueToCode(block, 'Y', Blockly.Python.ORDER_ATOMIC) || '0'\n  return `goto(${x}, ${y})\\n`\n}\n\nBlockly.Blocks['gotoRandom'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.appendDummyInput().appendField('gå til tilfeldig posisjon')\n    this.setPreviousStatement(true)\n    this.setNextStatement(true)\n    this.setColour(900)\n    this.setTooltip('Flytt avataren til en tilfeldig posisjon på bildet')\n  },\n}\n\nBlockly.Python['gotoRandom'] = function () {\n  return `goto(int(400 * random.random() - 200), int(400 * random.random() - 200))\\n`\n}\n\nBlockly.Blocks['circle'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.jsonInit({\n      message0: 'gå i sirkel',\n      message1: 'med klokka ↻ %1',\n      args1: [\n        {\n          type: 'field_checkbox',\n          name: 'DIRECTION',\n          checked: true,\n        },\n      ],\n      message2: 'radius: %1',\n      args2: [\n        {\n          type: 'input_value',\n          name: 'RADIUS',\n          check: 'Number',\n        },\n      ],\n      message3: 'vinkel: %1',\n      args3: [\n        {\n          type: 'input_value',\n          name: 'ANGLE',\n          check: 'Number',\n        },\n      ],\n      previousStatement: null,\n      nextStatement: null,\n      colour: 900,\n      tooltip: 'Flytt avataren i en sirkel',\n    })\n  },\n}\n\nBlockly.Python['circle'] = function (block) {\n  const dir = block.getFieldValue('DIRECTION') === 'TRUE' ? -1 : 1\n  const r = Blockly.Python.valueToCode(block, 'RADIUS', Blockly.Python.ORDER_ATOMIC) || '0'\n  const a = Blockly.Python.valueToCode(block, 'ANGLE', Blockly.Python.ORDER_ATOMIC) || '0'\n  return `circle(${dir} * ${r}, ${a})\\n`\n}\n\nBlockly.Blocks['right'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.jsonInit({\n      message0: 'roter ↻ %1',\n      args0: [\n        {\n          type: 'input_value',\n          name: 'DEGREES',\n          check: 'Number',\n        },\n      ],\n      previousStatement: null,\n      nextStatement: null,\n      colour: 900,\n      tooltip: 'Roter avataren antall grader til høyre (med klokka)',\n    })\n  },\n}\n\nBlockly.Python['right'] = function (block) {\n  const value = Blockly.Python.valueToCode(block, 'DEGREES', Blockly.Python.ORDER_ATOMIC) || '0'\n  return `right(${value})\\n`\n}\n\nBlockly.Blocks['left'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.jsonInit({\n      message0: 'roter ↺ %1',\n      args0: [\n        {\n          type: 'input_value',\n          name: 'DEGREES',\n          check: 'Number',\n        },\n      ],\n      previousStatement: null,\n      nextStatement: null,\n      colour: 900,\n      tooltip: 'Roter avataren antall grader til venstre (mot klokka)',\n    })\n  },\n}\n\nBlockly.Python['left'] = function (block) {\n  const value = Blockly.Python.valueToCode(block, 'DEGREES', Blockly.Python.ORDER_ATOMIC) || '0'\n  return `left(${value})\\n`\n}\n\nBlockly.Blocks['sideways'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.jsonInit({\n      message0: 'sidelengs %1',\n      args0: [\n        {\n          type: 'input_value',\n          name: 'DISTANCE',\n          check: 'Number',\n        },\n      ],\n      previousStatement: null,\n      nextStatement: null,\n      colour: 900,\n      tooltip: 'Flytt avataren sidelengs',\n    })\n  },\n}\n\nBlockly.Python['sideways'] = function (block) {\n  const value = Blockly.Python.valueToCode(block, 'DISTANCE', Blockly.Python.ORDER_ATOMIC) || '0'\n  return `sideways(${value})\\n`\n}\n\nBlockly.Blocks['color'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.appendDummyInput().appendField('sett farge').appendField(new Blockly.FieldColour('#ff0000'), 'COLOR')\n    this.setPreviousStatement(true)\n    this.setNextStatement(true)\n    this.setColour(280)\n    this.setTooltip('Skift farge på streken')\n  },\n}\n\nBlockly.Python['color'] = function (block) {\n  const value = block.getFieldValue('COLOR')\n  return `color(\"${value}\")\\n`\n}\n\nBlockly.Blocks['rgba'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.jsonInit({\n      message0: 'sett farge',\n      message1: 'rød: %1 grønn: %2 blå: %3 gjennomsiktig: %4',\n      args1: [\n        {\n          type: 'input_value',\n          name: 'RED',\n          check: 'Number',\n        },\n        {\n          type: 'input_value',\n          name: 'GREEN',\n          check: 'Number',\n        },\n        {\n          type: 'input_value',\n          name: 'BLUE',\n          check: 'Number',\n        },\n        {\n          type: 'input_value',\n          name: 'ALPHA',\n          check: 'Number',\n        },\n      ],\n      previousStatement: null,\n      nextStatement: null,\n      colour: 280,\n      tooltip: 'Endre gjennomsiktigheten på streken',\n    })\n  },\n}\n\nBlockly.Python['rgba'] = function (block) {\n  const r = Blockly.Python.valueToCode(block, 'RED', Blockly.Python.ORDER_ATOMIC) || '0'\n  const g = Blockly.Python.valueToCode(block, 'GREEN', Blockly.Python.ORDER_ATOMIC) || '0'\n  const b = Blockly.Python.valueToCode(block, 'BLUE', Blockly.Python.ORDER_ATOMIC) || '0'\n  const a = Blockly.Python.valueToCode(block, 'ALPHA', Blockly.Python.ORDER_ATOMIC) || '0'\n  return `color(max(0, min(1, ${r} / 255)), max(0, min(1, ${g} / 255)), max(0, min(1, ${b} / 255)), max(0, min(1, ${a} / 255)))\\n`\n}\n\nBlockly.Blocks['randomColor'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.appendDummyInput().appendField('sett en tilfeldig farge')\n    this.setPreviousStatement(true)\n    this.setNextStatement(true)\n    this.setColour(280)\n    this.setTooltip('Skift farge på streken til en tilfeldig farge')\n  },\n}\n\nBlockly.Python['randomColor'] = function () {\n  return `randomColor()\\n`\n}\n\nBlockly.Blocks['penUp'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.appendDummyInput().appendField('ta opp pennen')\n    this.setPreviousStatement(true)\n    this.setNextStatement(true)\n    this.setColour(280)\n    this.setTooltip('Ikke tegne mens avataren beveger seg')\n  },\n}\n\nBlockly.Python['penUp'] = function () {\n  return `up()\\n`\n}\n\nBlockly.Blocks['penDown'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.appendDummyInput().appendField('ta ned pennen')\n    this.setPreviousStatement(true)\n    this.setNextStatement(true)\n    this.setColour(280)\n    this.setTooltip('Tegne mens avataren beveger seg')\n  },\n}\n\nBlockly.Python['penDown'] = function () {\n  return `down()\\n`\n}\n\nBlockly.Blocks['penSize'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.jsonInit({\n      message0: 'sett penstørrelse til %1',\n      args0: [\n        {\n          type: 'input_value',\n          name: 'SIZE',\n          check: 'Number',\n        },\n      ],\n      previousStatement: null,\n      nextStatement: null,\n      colour: 280,\n      tooltip: 'Endre størrelsen på pennen',\n    })\n  },\n}\n\nBlockly.Python['penSize'] = function (block) {\n  const size = Blockly.Python.valueToCode(block, 'SIZE', Blockly.Python.ORDER_ATOMIC) || '1'\n  return `pensize(${size} * scale)\\n`\n}\n\nBlockly.Blocks['dot'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.appendDummyInput().appendField('tegn en prikk ⚪')\n    this.setPreviousStatement(true)\n    this.setNextStatement(true)\n    this.setColour(280)\n    this.setTooltip('Tegn en prikk i nåværende farge og pen-størrelse. Fin til å tegne snø ❄')\n  },\n}\n\nBlockly.Python['dot'] = function () {\n  return `dot()\\n`\n}\n\nBlockly.Blocks['write'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.appendDummyInput().appendField('skriv').appendField(new Blockly.FieldTextInput('God Jul!'), 'TEXT')\n    this.setPreviousStatement(true)\n    this.setNextStatement(true)\n    this.setColour(280)\n    this.setTooltip('Skriv tekst på bildet')\n  },\n}\n\nBlockly.Python['write'] = function (block) {\n  const text = block.getFieldValue('TEXT')\n  return `write(\"${text}\", move=False, align=textalign, font=(fontname, fontsize, fonttype))\\n`\n}\n\nBlockly.Blocks['fontsize'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.appendDummyInput().appendField('sett tekststørrelsen til').appendField(new Blockly.FieldNumber(24), 'SIZE')\n    this.setPreviousStatement(true)\n    this.setNextStatement(true)\n    this.setColour(280)\n    this.setTooltip('Endre størrelse på teksten')\n  },\n}\n\nBlockly.Python['fontsize'] = function (block) {\n  const size = block.getFieldValue('SIZE')\n  return `fontsize = ${size}\\n`\n}\n\nBlockly.Blocks['fontname'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.appendDummyInput()\n      .appendField('velg font')\n      .appendField(\n        new Blockly.FieldDropdown([\n          [\n            { src: process.env.PUBLIC_URL + '/bilder/helvetica.png', width: 100, height: 28, alt: 'Helvetica' },\n            'Helvetica',\n          ],\n          [\n            { src: process.env.PUBLIC_URL + '/bilder/comic-sans-ms.png', width: 90, height: 28, alt: 'Comic Sans MS' },\n            'Comic Sans MS',\n          ],\n          [\n            {\n              src: process.env.PUBLIC_URL + '/bilder/handwritten.png',\n              width: 120,\n              height: 28,\n              alt: 'Monotype Corsiva',\n            },\n            'Monotype Corsiva',\n          ],\n          [\n            { src: process.env.PUBLIC_URL + '/bilder/monospace.png', width: 100, height: 28, alt: 'Monospace' },\n            'Monospace',\n          ],\n        ]),\n        'NAME'\n      )\n    this.setPreviousStatement(true)\n    this.setNextStatement(true)\n    this.setColour(280)\n    this.setTooltip('Endre hvilken type font som blir brukt')\n  },\n}\n\nBlockly.Python['fontname'] = function (block) {\n  const name = block.getFieldValue('NAME')\n  return `fontname = \"${name}\"\\n`\n}\n\nBlockly.Blocks['fonttype'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.appendDummyInput()\n      .appendField('velg fonttype')\n      .appendField(\n        new Blockly.FieldDropdown([\n          [{ src: process.env.PUBLIC_URL + '/bilder/normal.png', width: 60, height: 24, alt: 'normal' }, 'normal'],\n          [{ src: process.env.PUBLIC_URL + '/bilder/bold.png', width: 60, height: 24, alt: 'bold' }, 'bold'],\n          [{ src: process.env.PUBLIC_URL + '/bilder/italic.png', width: 60, height: 24, alt: 'italic' }, 'italic'],\n        ]),\n        'TYPE'\n      )\n    this.setPreviousStatement(true)\n    this.setNextStatement(true)\n    this.setColour(280)\n    this.setTooltip('Endre hvilken fonttype som blir brukt')\n  },\n}\n\nBlockly.Python['fonttype'] = function (block) {\n  const type = block.getFieldValue('TYPE')\n  return `fonttype = \"${type}\"\\n`\n}\n\nBlockly.Blocks['textalign'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.appendDummyInput()\n      .appendField('juster tekst til')\n      .appendField(\n        new Blockly.FieldDropdown([\n          ['høyre ➡', 'left'],\n          ['midten', 'center'],\n          ['⬅ venstre', 'right'],\n        ]),\n        'ALIGN'\n      )\n    this.setPreviousStatement(true)\n    this.setNextStatement(true)\n    this.setColour(280)\n    this.setTooltip('Velge hvor teksten blir skrevet i forhold til avataren')\n  },\n}\n\nBlockly.Python['textalign'] = function (block) {\n  const align = block.getFieldValue('ALIGN')\n  return `textalign = \"${align}\"\\n`\n}\n\nBlockly.Blocks['begin_fill'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.appendDummyInput().appendField('start fyll')\n    this.setPreviousStatement(true)\n    this.setNextStatement(true)\n    this.setColour(280)\n    this.setTooltip('Start å fylle et område med farge')\n  },\n}\n\nBlockly.Python['begin_fill'] = function () {\n  return `begin_fill()\\n`\n}\n\nBlockly.Blocks['end_fill'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.appendDummyInput().appendField('slutt fyll')\n    this.setPreviousStatement(true)\n    this.setNextStatement(true)\n    this.setColour(280)\n    this.setTooltip('Slutt å fylle et område med farge')\n  },\n}\n\nBlockly.Python['end_fill'] = function () {\n  return `end_fill()\\n`\n}\n\nBlockly.Blocks['hideturtle'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.appendDummyInput().appendField('skjul avatar 🙈')\n    this.setPreviousStatement(true)\n    this.setNextStatement(true)\n    this.setColour(180)\n    this.setTooltip('Ikke vis avataren mens den tegner')\n  },\n}\n\nBlockly.Python['hideturtle'] = function () {\n  return `hideturtle()\\n`\n}\n\nBlockly.Blocks['showturtle'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.appendDummyInput().appendField('vis avatar 🙉')\n    this.setPreviousStatement(true)\n    this.setNextStatement(true)\n    this.setColour(180)\n    this.setTooltip('Vis avataren mens den tegner')\n  },\n}\n\nBlockly.Python['showturtle'] = function () {\n  return `showturtle()\\n`\n}\n\nBlockly.Blocks['shape'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.appendDummyInput()\n      .appendField('endre avatar til')\n      .appendField(\n        new Blockly.FieldDropdown([\n          ['🤶', 'nisse-old-female'],\n          ['🎅', 'nisse-old-male'],\n          ['🐢', 'turtle'],\n          ['▶', 'triangle'],\n          ['⚪', 'circle'],\n          ['⬜', 'square'],\n        ]),\n        'SHAPE'\n      )\n    this.setPreviousStatement(true)\n    this.setNextStatement(true)\n    this.setColour(180)\n    this.setTooltip('Endre avataren')\n  },\n}\n\nBlockly.Python['shape'] = function (block) {\n  const shape = block.getFieldValue('SHAPE')\n  return `shape(\"${shape}\")\\n`\n}\n\nBlockly.Blocks['stamp'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.appendDummyInput().appendField('stemple avataren')\n    this.setPreviousStatement(true)\n    this.setNextStatement(true)\n    this.setColour(180)\n    this.setTooltip('Stemple en kopi av avataren på tegningen på nåværende posisjon')\n  },\n}\n\nBlockly.Python['stamp'] = function () {\n  return `stamp()\\n`\n}\n\nBlockly.Blocks['commentStart'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.appendDummyInput().appendField('hopp over koden under 🦘')\n\n    this.setPreviousStatement(true)\n    this.setNextStatement(true)\n    this.setColour(0)\n    this.setTooltip('Legge til starten på en kommentar (brukes til å hoppe over kode)')\n  },\n}\n\nBlockly.Python['commentStart'] = function () {\n  return `\"\"\"\\n`\n}\n\nBlockly.Blocks['commentEnd'] = {\n  init: function () {\n    if (!this.jsonInit) return\n    this.appendDummyInput().appendField('hopp inn i koden igjen 🦘')\n\n    this.setPreviousStatement(true)\n    this.setNextStatement(true)\n    this.setColour(80)\n    this.setTooltip('Legge til slutten på en kommentar (brukes til å fortsette å kjøre koden)')\n  },\n}\n\nBlockly.Python['commentEnd'] = function () {\n  return `#\"\"\"\\n`\n}\n\nBlockly.Msg.MATH_CHANGE_TITLE = 'endre %1 med %2'\nBlockly.Msg.CONTROLS_REPEAT_INPUT_DO = ''\nBlockly.Msg.MATH_RANDOM_INT_TITLE = 'tilfeldig tall fra: %1 til: %2'\n","import create from 'zustand'\n\nconst preDefinedPythonCode = `import random\nfrom math import *\nfrom turtle import *\n\ntry: scale\nexcept NameError: scale = 1\n\ndef sideways(distance):\n  direction = (heading() + 90) * pi / 180\n  [x, y] = pos()\n  goto(x + distance * cos(direction), y + distance * sin(direction))\n\ndef randomColor():\n  hue, d = random.random() * pi * 2, pi * 2 / 3\n  r, g, b = sin(hue - d) + 1, sin(hue) + 1, sin(hue + d) + 1\n  color(r / 2, g / 2, b / 2)\n\nfontname, fontsize, fonttype, textalign = \"Arial\", 24, \"normal\", \"left\"\npensize(scale)\n\n`\n\nconst extraPythonCodeForTheBrowserRendering = `screen = Screen()\nscreen.setworldcoordinates(-200, -200, 200, 200)\nscreen.register_shape(\"nisse-old-female\")\nscreen.register_shape(\"nisse-old-male\")\nscale = lambda a: list(map(lambda x:[x[0]*3,x[1]*3],a))\nscreen.register_shape(\"arrow\", scale([[-10,0],[10,0],[0,10]]))\nscreen.register_shape(\"square\", scale([[10,-10],[10,10],[-10,10],[-10,-10]]))\nscreen.register_shape(\"triangle\", scale([[10,-5.77],[0,11.55],[-10,-5.77]]))\nscreen.register_shape(\"classic\", scale([[0,0],[-5,-9],[0,-7],[5,-9]]))\nscreen.register_shape(\"turtle\", scale([[0,16],[-2,14],[-1,10],[-4,7],[-7,9],[-9,8],[-6,5],[-7,1],[-5,-3],[-8,-6],[-6,-8],[-4,-5],[0,-7],[4,-5],[6,-8],[8,-6],[5,-3],[7,1],[6,5],[9,8],[7,9],[4,7],[1,10],[2,14]]))\nscreen.register_shape(\"circle\", scale([[10,0],[9.51,3.09],[8.09,5.88],[5.88,8.09],[3.09,9.51],[0,10],[-3.09,9.51],[-5.88,8.09],[-8.09,5.88],[-9.51,3.09],[-10,0],[-9.51,-3.09],[-8.09,-5.88],[-5.88,-8.09],[-3.09,-9.51],[-0,-10],[3.09,-9.51],[5.88,-8.09],[8.09,-5.88],[9.51,-3.09]]))\nshape(\"nisse-old-male\")\nscale = 4\npensize(scale)\n\n`\n\nexport const useStore = create((set) => ({\n  preDefinedPythonCode,\n  extraPythonCodeForTheBrowserRendering,\n  pythonErrorLineNumberOffset:\n    preDefinedPythonCode.split('\\n').length + extraPythonCodeForTheBrowserRendering.split('\\n').length - 2,\n  pythonCode:\n    localStorage.getItem('pythonCode') ||\n    `from random import *\nfrom turtle import *\n\ncolor(\"red\")\nforward(100)\nleft(45)\nforward(100)\n`,\n  setPythonCode: (pythonCode) => {\n    localStorage.setItem('pythonCode', pythonCode)\n    set(() => ({ pythonCode }))\n  },\n  javascriptCode: localStorage.getItem('javascriptCode') || ``,\n  setJavascriptCode: (javascriptCode) => {\n    localStorage.setItem('javascriptCode', javascriptCode)\n    set(() => ({ javascriptCode }))\n  },\n  blocklyPythonCode: localStorage.getItem('blocklyPythonCode') || ``,\n  setBlocklyPythonCode: (blocklyPythonCode) => {\n    localStorage.setItem('blocklyPythonCode', blocklyPythonCode)\n    set(() => ({ blocklyPythonCode }))\n  },\n  downloadablePythonCode: localStorage.getItem('downloadablePythonCode') || ``,\n  setDownloadablePythonCode: (downloadablePythonCode) => {\n    localStorage.setItem('downloadablePythonCode', downloadablePythonCode)\n    set(() => ({ downloadablePythonCode }))\n  },\n  blocklyXml: localStorage.getItem('blocklyXml') || `<xml xmlns=\"https://developers.google.com/blockly/xml\"></xml>`,\n  setBlocklyXml: (blocklyXml) => {\n    localStorage.setItem('blocklyXml', blocklyXml)\n    set(() => ({ blocklyXml }))\n  },\n  blocklyWorkspace: null,\n  setBlocklyWorkspace: (blocklyWorkspace) => {\n    set(() => ({ blocklyWorkspace }))\n  },\n\n  editorMode: localStorage.getItem('editorMode') || 'blockly',\n  setEditorMode: (editorMode) => {\n    localStorage.setItem('editorMode', editorMode)\n    set(() => ({ editorMode }))\n  },\n  editor: null,\n  setEditor: (editor) => set(() => ({ editor })),\n  isPythonCodeEditable: (localStorage.getItem('isPythonCodeEditable') || 'true') === 'true',\n  setIsPythonCodeEditable: (isPythonCodeEditable) => {\n    localStorage.setItem('isPythonCodeEditable', isPythonCodeEditable)\n    set(() => ({ isPythonCodeEditable }))\n  },\n\n  canvas: null, // Grafikk\n  setCanvas: (canvas) => set(() => ({ canvas })),\n  canvasColor: localStorage.getItem('canvasColor') || '#ffffff',\n  setCanvasColor: (canvasColor) => {\n    if (canvasColor === null || canvasColor === 'null') canvasColor = '#ffffff'\n    localStorage.setItem('canvasColor', canvasColor)\n    set(() => ({ canvasColor }))\n  },\n  showGrid: (localStorage.getItem('showGrid') || 'false') === 'true',\n  setShowGrid: (showGrid) => {\n    localStorage.setItem('showGrid', showGrid)\n    set(() => ({ showGrid }))\n  },\n\n  log: [],\n  addLog: (content, error = false) => set((state) => ({ log: [{ content, error }, ...state.log] })),\n\n  error: null,\n  setError: (error) => set(() => ({ error })),\n  clearError: () => set(() => ({ error: null })),\n\n  userId: null,\n  setUserId: (userId) => set(() => ({ userId })),\n\n  title: null,\n  setTitle: (title) => set(() => ({ title })),\n\n  image: null,\n  setImage: (image) => set(() => ({ image })),\n}))\n","import { css } from 'styled-components'\n\nexport const CSSShadows = {\n  small: css`\n    --shadow-color: #0002;\n    box-shadow: 0 1px 1px var(--shadow-color);\n  `,\n  medium: css`\n    --shadow-color: #0002;\n    box-shadow: 0 1px 1px var(--shadow-color), 0 2px 2px var(--shadow-color), 0 4px 4px var(--shadow-color);\n  `,\n  large: css`\n    --shadow-color: #0002;\n    box-shadow: 0 1px 1px var(--shadow-color), 0 2px 2px var(--shadow-color), 0 4px 4px var(--shadow-color),\n      0 8px 8px var(--shadow-color), 0 16px 16px var(--shadow-color);\n  `,\n}\n","import { useCallback } from 'react'\nimport Editor from '@monaco-editor/react'\nimport { createBreakpoint } from 'react-use'\nimport styled from 'styled-components'\nimport { BlocklyWorkspace } from 'react-blockly'\nimport Blockly from 'blockly'\nimport 'blockly/python'\nimport './blockly-custom-blocks'\nimport { useStore } from '../store'\nimport { CSSShadows } from '../constants'\n\nexport const useBreakpoint = createBreakpoint({ L: 1016, S: 1015 })\n\nconst getHeight = (size) => {\n  switch (size) {\n    case 'L':\n      return 'calc(100vh - 64px)'\n    default:\n      return 'max(400px, calc(50vh - 32px - 14px))'\n  }\n}\n\nconst getWidth = (size) => {\n  switch (size) {\n    case 'L':\n      return 'max(400px, calc(100vw - 32px - 14px))'\n    default:\n      return 'max(400px, calc(100vw - 32px - 14px))'\n  }\n}\n\nexport function CodeEditor({ above, below, language = 'python', onChange, ...props }) {\n  const pythonCode = useStore((state) => state.pythonCode)\n  const setDownloadablePythonCode = useStore((state) => state.setDownloadablePythonCode)\n  const setPythonCode = useStore((state) => state.setPythonCode)\n  const javascriptCode = useStore((state) => state.javascriptCode)\n  const setJavascriptCode = useStore((state) => state.setJavascriptCode)\n  const isPythonCodeEditable = useStore((state) => state.isPythonCodeEditable)\n  const setEditor = useStore((state) => state.setEditor)\n\n  const size = useBreakpoint()\n\n  return (\n    <Container>\n      {above}\n      <Editor\n        height={getHeight(size)}\n        width={getWidth(size)}\n        theme=\"vs-dark\"\n        language={language}\n        value={language === 'python' ? pythonCode : javascriptCode}\n        onChange={(code) => {\n          if (language === 'python') {\n            setPythonCode(code)\n            setDownloadablePythonCode(code)\n          } else {\n            setJavascriptCode(code)\n          }\n          onChange()\n        }}\n        className=\"monaco-editor\"\n        onMount={(editor) => {\n          setEditor(editor)\n          const messageContribution = editor.getContribution('editor.contrib.messageController')\n          editor.onDidAttemptReadOnlyEdit(() => {\n            messageContribution.showMessage(`Du kan ikke endre koden akkurat nå`, editor.getPosition())\n          })\n        }}\n        {...props}\n        options={{\n          scrollBeyondLastLine: false,\n          wordWrap: true,\n          automaticLayout: true,\n          renderWhitespace: 'boundary',\n          readOnly: !isPythonCodeEditable,\n          scrollbar: {\n            alwaysConsumeMouseWheel: false,\n          },\n          minimap: {\n            enabled: false,\n          },\n          ...(props.options || {}),\n        }}\n      />\n      {below}\n    </Container>\n  )\n}\n\nconst toolboxConfiguration = {\n  kind: 'flyoutToolbox',\n  contents: [\n    {\n      kind: 'label',\n      text: 'Bevegelse 🏃‍♀️',\n    },\n    {\n      kind: 'block',\n      blockxml:\n        '<block type=\"speed\"><value name=\"SPEED\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block>',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      blockxml:\n        '<block type=\"forward\"><value name=\"DISTANCE\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block>',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      blockxml:\n        '<block type=\"backward\"><value name=\"DISTANCE\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block>',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      blockxml:\n        '<block type=\"sideways\"><value name=\"DISTANCE\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value></block>',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      blockxml:\n        '<block type=\"right\"><value name=\"DEGREES\"><shadow type=\"math_number\"><field name=\"NUM\">90</field></shadow></value></block>',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      blockxml:\n        '<block type=\"left\"><value name=\"DEGREES\"><shadow type=\"math_number\"><field name=\"NUM\">90</field></shadow></value></block>',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      blockxml:\n        '<block type=\"goto\"><value name=\"X\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"Y\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block>',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      type: 'gotoRandom',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      blockxml:\n        '<block type=\"circle\"><value name=\"RADIUS\"><shadow type=\"math_number\"><field name=\"NUM\">100</field></shadow></value><value name=\"ANGLE\"><shadow type=\"math_number\"><field name=\"NUM\">360</field></shadow></value></block>',\n    },\n    {\n      kind: 'label',\n      text: 'Tegning og farger 🎨',\n    },\n    {\n      kind: 'block',\n      type: 'color',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      blockxml:\n        '<block type=\"rgba\"><value name=\"RED\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><value name=\"GREEN\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><value name=\"BLUE\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value><value name=\"ALPHA\"><shadow type=\"math_number\"><field name=\"NUM\">255</field></shadow></value></block>',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      type: 'randomColor',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      blockxml:\n        '<block type=\"penSize\"><value name=\"SIZE\"><shadow type=\"math_number\"><field name=\"NUM\">5</field></shadow></value></block>',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      type: 'dot',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      type: 'penUp',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      type: 'penDown',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      type: 'begin_fill',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      type: 'end_fill',\n    },\n    {\n      kind: 'label',\n      text: 'Tekst 🔤',\n    },\n    {\n      kind: 'block',\n      type: 'write',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      type: 'fontsize',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      type: 'fontname',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      type: 'fonttype',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      type: 'textalign',\n    },\n    {\n      kind: 'label',\n      text: 'Endre avatar 🤶🎅',\n    },\n    {\n      kind: 'block',\n      type: 'showturtle',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      type: 'hideturtle',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      type: 'shape',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      type: 'stamp',\n    },\n    {\n      kind: 'label',\n      text: 'Repetisjon 🔁',\n    },\n    {\n      kind: 'block',\n      blockxml:\n        '<block type=\"controls_repeat_ext\"><value name=\"TIMES\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value></block>',\n    },\n    {\n      kind: 'label',\n      text: 'Variabler 🧪',\n    },\n    {\n      kind: 'button',\n      text: 'Lag en ny variabel...',\n      callbackKey: 'createVariable',\n    },\n    {\n      kind: 'block',\n      blockxml: '<block type=\"variables_get\"><field name=\"VAR\">a</field></block>',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      blockxml:\n        '<block type=\"variables_set\"><field name=\"VAR\">a</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value></block>',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      blockxml:\n        '<block type=\"math_change\"><field name=\"VAR\">a</field><value name=\"DELTA\"><shadow type=\"math_number\"><field name=\"NUM\">10</field></shadow></value></block>',\n    },\n    {\n      kind: 'label',\n      text: 'Logikk 🤓',\n    },\n    {\n      kind: 'block',\n      type: 'controls_if',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      type: 'logic_compare',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      type: 'logic_operation',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      type: 'logic_negate',\n    },\n    {\n      kind: 'label',\n      text: 'Matematikk 📐',\n    },\n    {\n      kind: 'block',\n      type: 'math_number',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      blockxml:\n        '<block type=\"math_arithmetic\"><field name=\"OP\">ADD</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block>',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      type: 'math_random_int',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      type: 'math_number_property',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      type: 'math_modulo',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      type: 'math_trig',\n    },\n    {\n      kind: 'label',\n      text: 'Ekstra',\n    },\n    {\n      kind: 'block',\n      type: 'commentStart',\n      gap: '4px',\n    },\n    {\n      kind: 'block',\n      type: 'commentEnd',\n    },\n  ],\n}\n\nexport function BlocklyEditor({ above, below, onChange, ...props }) {\n  const preDefinedPythonCode = useStore((state) => state.preDefinedPythonCode)\n  const extraPythonCodeForTheBrowserRendering = useStore((state) => state.extraPythonCodeForTheBrowserRendering)\n  const setBlocklyPythonCode = useStore((state) => state.setBlocklyPythonCode)\n  const setDownloadablePythonCode = useStore((state) => state.setDownloadablePythonCode)\n  const initialXml = useStore((state) => state.blocklyXml)\n  const onXmlChange = useStore((state) => state.setBlocklyXml)\n  const setBlocklyWorkspace = useStore((state) => state.setBlocklyWorkspace)\n\n  const size = useBreakpoint()\n\n  const onWorkspaceChange = useCallback(\n    (workspace) => {\n      setBlocklyPythonCode(\n        preDefinedPythonCode + extraPythonCodeForTheBrowserRendering + Blockly.Python.workspaceToCode(workspace)\n      )\n      setDownloadablePythonCode(preDefinedPythonCode + Blockly.Python.workspaceToCode(workspace))\n    },\n    [preDefinedPythonCode, extraPythonCodeForTheBrowserRendering, setBlocklyPythonCode, setDownloadablePythonCode]\n  )\n\n  return (\n    <Container\n      style={{\n        height: getHeight(size),\n        width: getWidth(size),\n      }}\n    >\n      {above}\n      <StyledBlocklyWorkspace\n        workspaceConfiguration={{\n          grid: {\n            spacing: 20,\n            length: 3,\n            colour: '#ccc',\n            snap: true,\n          },\n          collapse: false,\n          scrollbars: true,\n        }}\n        onInject={(workspace) => {\n          setBlocklyWorkspace(workspace)\n          workspace.createVariable('a', 'int')\n          workspace.registerButtonCallback('createVariable', () => {\n            Blockly.Variables.createVariableButtonHandler(workspace, null, 'int')\n          })\n        }}\n        onXmlChange={(xml) => {\n          onXmlChange(xml)\n          onChange()\n        }}\n        {...{ initialXml, toolboxConfiguration, onWorkspaceChange }}\n        {...props}\n      />\n      {below}\n    </Container>\n  )\n}\n\nconst Container = styled.div`\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  font-size: 16px;\n  margin-top: 56px;\n\n  .monaco-editor {\n    overflow: hidden;\n    border-radius: 8px;\n    ${CSSShadows.large}\n  }\n`\n\nconst StyledBlocklyWorkspace = styled(BlocklyWorkspace)`\n  width: 100%;\n  min-width: 400px;\n  height: 100%;\n  overflow: hidden;\n  border-radius: 8px;\n\n  .blocklyScrollbarHorizontal.blocklyMainWorkspaceScrollbar,\n  .blocklyScrollbarVertical.blocklyMainWorkspaceScrollbar {\n    display: none;\n  }\n`\n","import styled, { css } from 'styled-components'\nimport { CSSShadows } from '../constants'\n\nconst ButtonStyles = css`\n  border: none;\n  border-radius: 4px;\n  background-color: ${(props) => props.$color || '#666'};\n  color: ${(props) => props.$textColor || '#fff'};\n  padding: 0.6em 1em;\n  cursor: pointer;\n  user-select: none;\n  font-size: ${(props) => props.$size || '16px'};\n  ${CSSShadows.large}\n\n  transition-duration: 0.1s;\n  transition-property: background box-shadow;\n\n  :hover {\n    background-color: ${(props) => props.$hoverColor || '#444'};\n  }\n\n  :active {\n    ${CSSShadows.small}\n  }\n`\n\nexport const Button = styled.button`\n  ${ButtonStyles}\n`\n\nexport const LinkButton = styled.a`\n  ${ButtonStyles}\n`\n","import { useEffect, useState } from 'react'\nimport Prism from 'prismjs'\nimport 'prismjs/components/prism-python.min.js'\nimport './prism-dark-vsc-theme.css'\nimport styled from 'styled-components'\n\nexport function CodePreview({ code, language = 'python' }) {\n  const [HTML, setHTML] = useState('')\n\n  useEffect(() => {\n    setHTML(Prism.highlight(code, Prism.languages[language], language))\n  }, [code, language])\n\n  return (\n    <Container>\n      <code className={'language-' + language} dangerouslySetInnerHTML={{ __html: HTML }} />\n    </Container>\n  )\n}\n\nconst Container = styled.pre`\n  background-color: #1d1f21;\n  border-radius: 4px;\n\n  > code {\n    display: block;\n    padding: 10px 20px;\n    overflow-x: auto;\n\n    :empty {\n      display: none;\n    }\n  }\n`\n","import { useCallback, useEffect, useRef, useState } from 'react'\nimport styled from 'styled-components'\nimport { useThrottleFn } from 'react-use'\nimport { useStore } from '../store'\nimport { CSSShadows } from '../constants'\nimport { LinkButton } from './Button'\nimport { useBreakpoint } from './CodeEditor'\nimport { CodePreview } from './CodePreview'\n\nconst colors = ['#ffffff', '#ff0000', '#ffff00', '#00ff00', '#00ffff', '#0000ff', '#ff00ff', '#000000']\n\nexport function Graphics({ imageNumber, fullScreen = false, ...props }) {\n  const canvasRef = useRef()\n  const canvasGridRef = useRef()\n  const canvasCtxRef = useRef()\n  const turtleCanvasContainerRef = useRef()\n  const setCanvas = useStore((state) => state.setCanvas)\n  const showGrid = useStore((state) => state.showGrid)\n  const setShowGrid = useStore((state) => state.setShowGrid)\n  const error = useStore((state) => state.error)\n  const pythonErrorLineNumberOffset = useStore((state) => state.pythonErrorLineNumberOffset)\n  const editorMode = useStore((state) => state.editorMode)\n  const setImage = useStore((state) => state.setImage)\n  const title = useStore((state) => state.title)\n\n  const size = useBreakpoint()\n\n  const canvasColor = useStore((state) => state.canvasColor)\n  const setCanvasColor = useStore((state) => state.setCanvasColor)\n\n  // Sørge for at color picker ikke spammer state-oppdateringen\n  const [color, setThrottledCanvasColor] = useState(canvasColor)\n  const throttledCanvasColor = useThrottleFn((value) => value, 100, [color])\n\n  useEffect(() => {\n    setCanvasColor(throttledCanvasColor)\n  }, [setCanvasColor, throttledCanvasColor])\n\n  useEffect(() => {\n    if (canvasRef.current !== null) {\n      setCanvas(canvasRef.current)\n      canvasCtxRef.current = canvasRef.current.getContext('2d')\n    }\n  }, [setCanvas])\n\n  useEffect(() => {\n    if (canvasRef.current !== null) {\n      canvasCtxRef.current.fillStyle = canvasColor\n      canvasCtxRef.current.fillRect(0, 0, 1600, 1600)\n    }\n  }, [canvasColor])\n\n  useEffect(() => {\n    if (canvasGridRef.current !== null) {\n      const ctx = canvasGridRef.current.getContext('2d')\n\n      ctx.clearRect(0, 0, 400, 400)\n\n      if (showGrid) {\n        const red = parseInt(canvasColor.slice(1, 3), 16)\n        const green = parseInt(canvasColor.slice(3, 5), 16)\n        const blue = parseInt(canvasColor.slice(5, 7), 16)\n        const isDark = red * 0.2126 + green * 0.7152 + blue * 0.0722 < 40\n\n        ctx.beginPath()\n\n        for (let x = 100; x < 400; x += 100) {\n          ctx.moveTo(x, 0)\n          ctx.lineTo(x, 400)\n          ctx.moveTo(0, x)\n          ctx.lineTo(400, x)\n        }\n\n        ctx.lineWidth = 2\n        ctx.strokeStyle = isDark ? '#fff4' : '#0004'\n        ctx.stroke()\n\n        ctx.beginPath()\n        ctx.moveTo(200, 0)\n        ctx.lineTo(200, 400)\n        ctx.moveTo(0, 200)\n        ctx.lineTo(400, 200)\n        ctx.strokeStyle = isDark ? '#fff' : '#000'\n        ctx.stroke()\n\n        ctx.font = '12px Helvetica'\n        ctx.fillStyle = isDark ? '#fff' : '#000'\n        ctx.textAlign = 'left'\n        ctx.textBaseline = 'top'\n        ctx.fillText('-100px', 102, 204)\n        ctx.fillText('100px', 302, 204)\n        ctx.fillText('100px', 202, 104)\n        ctx.fillText('-100px', 202, 304)\n      }\n    }\n  }, [showGrid, canvasColor])\n\n  const generateImage = useCallback(\n    (download = false) => {\n      if (turtleCanvasContainerRef.current && canvasCtxRef.current) {\n        const turtleCanvas = turtleCanvasContainerRef.current.children[1]\n        if (!turtleCanvas) return\n        const width = turtleCanvas.width\n        const height = turtleCanvas.height\n        canvasRef.current.width = width\n        canvasRef.current.height = height\n        canvasCtxRef.current.fillStyle = canvasColor\n        canvasCtxRef.current.fillRect(0, 0, width, height)\n\n        let first = true\n        for (const canvas of turtleCanvasContainerRef.current.children) {\n          if (first) {\n            first = false\n            continue\n          }\n          canvasCtxRef.current.drawImage(canvas, 0, 0, width, height)\n        }\n\n        const base64String = canvasRef.current.toDataURL('image/png;base64')\n\n        if (download) {\n          const linkElement = document.createElement('a')\n          linkElement.download = (title || 'julekort').replace(/[^a-zøæå ]/gi, '') + '.png'\n          linkElement.href = base64String\n          linkElement.click()\n        }\n\n        window.image = base64String\n        setImage(base64String)\n\n        canvasCtxRef.current.fillStyle = canvasColor\n        canvasCtxRef.current.fillRect(0, 0, width, height)\n      }\n    },\n    [canvasColor, setImage, title]\n  )\n\n  const BottomSettings = () => (\n    <BottomContainer>\n      <LinkButton onClick={() => generateImage(true)}>\n        Last ned bilde <i className=\"fas fa-download\" />\n      </LinkButton>\n    </BottomContainer>\n  )\n\n  const preImageNumber = useRef(-1)\n  useEffect(() => {\n    if (preImageNumber.current !== imageNumber) {\n      preImageNumber.current = imageNumber\n      generateImage(false)\n    }\n  }, [imageNumber, generateImage])\n\n  return (\n    <GraphicsContainer $fixedPosition={size === 'L' && !fullScreen} $fullScreen={fullScreen}>\n      <TopContainer>\n        <ToggleGrid isSelected={showGrid} onClick={() => setShowGrid(!showGrid)}>\n          <i className=\"fas fa-border-all\" />\n        </ToggleGrid>\n        <VerticalDivider $dark={size !== 'L' || editorMode === 'python'} />\n        {colors.map((color) => (\n          <ChangeColorButton\n            key={color}\n            title={`Trykk for å sette bakgrunnen til denne fargen: ${color}`}\n            color={color}\n            isSelected={color === canvasColor}\n            onClick={() => setThrottledCanvasColor(color)}\n          />\n        ))}\n        <VerticalDivider $dark={size !== 'L' || editorMode === 'python'} />\n        <ColorPicker\n          isSelected={!colors.includes(canvasColor || '#ffffff')}\n          value={canvasColor || '#ffffff'}\n          onChange={(e) => setThrottledCanvasColor(e.target.value)}\n        />\n      </TopContainer>\n      <Canvas height=\"1600px\" width=\"1600px\" ref={canvasRef} {...props} />\n      <CanvasContainer id=\"julekort-grafikk-turtle\" ref={turtleCanvasContainerRef} />\n      <CanvasContainer id=\"julekort-grafikk-p5\" />\n      <CanvasGrid height=\"400px\" width=\"400px\" ref={canvasGridRef} />\n      <BottomSettings />\n      {error && (\n        <ShowError>\n          {editorMode === 'python' ? (\n            <>\n              <h2>Du fikk en feilmelding 😬</h2>\n              <h4>\n                MEN det er ingen grunn til panikk!\n                <br />\n                Dette skjer hele tiden 🤗\n              </h4>\n              <pre style={{ whiteSpace: 'pre-wrap' }}>\n                {error.type}: {error.message}\n              </pre>\n              {error.lineNumber && (\n                <>\n                  <h4>Tips: Feilen ligger på linje {error.lineNumber - pythonErrorLineNumberOffset} 😉:</h4>\n                  <CodePreview\n                    code={\n                      error.getNLinesAbove(2).join('\\n') +\n                      '\\n' +\n                      error.line +\n                      ' # <- Se her 🧐\\n' +\n                      error.getNLinesBelow(2).join('\\n')\n                    }\n                  />\n                </>\n              )}\n            </>\n          ) : (\n            <>\n              <h1 style={{ textAlign: 'center' }}>Obs!</h1>\n              <h2>Det kom en feilmelding 😬 Gjerne huk tak i noen fra kodeklubben om du står fast!</h2>\n              <h4>\n                (Om du vil finne ut av feilen selv kan du trykke på \"Gjør om til Python <i className=\"fas fa-code\" />\n                \"-knappen, så får du en mer detaljert tilbakemelding)\n              </h4>\n            </>\n          )}\n        </ShowError>\n      )}\n    </GraphicsContainer>\n  )\n}\n\nconst CanvasContainer = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  border-radius: 8px;\n`\n\nconst Canvas = styled.canvas`\n  border-radius: 8px;\n`\n\nconst CanvasGrid = styled(Canvas)`\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 1000;\n`\n\nconst TopContainer = styled.div`\n  position: absolute;\n  bottom: calc(100% + 8px);\n  left: 0;\n  right: 0;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-end;\n  justify-content: space-between;\n  gap: 8px;\n`\n\nconst GraphicsContainer = styled.div`\n  --width: ${(props) => (props.$fullScreen ? 'min(60vh, 90vw)' : '400px')};\n\n  position: ${(props) => (props.$fixedPosition ? 'absolute' : 'relative')};\n  z-index: 999;\n  top: ${(props) => (props.$fixedPosition ? '51px' : 'unset')};\n  right: ${(props) => (props.$fixedPosition ? '16px' : 'unset')};\n  width: var(--width);\n  height: var(--width);\n  background-color: transparent;\n  border-radius: 8px;\n  margin-top: 56px;\n  margin-bottom: 44px;\n  ${CSSShadows.large}\n\n  canvas {\n    width: var(--width) !important;\n    height: var(--width) !important;\n  }\n\n  canvas + canvas {\n    margin-top: calc(-1 * var(--width)) !important;\n  }\n\n  ${TopContainer} {\n    justify-content: ${(props) => (props.$fullScreen ? 'flex-start' : 'space-between')};\n  }\n`\n\nconst VerticalDivider = styled.div`\n  height: 24px;\n  width: 4px;\n  margin: 3px 0;\n  border-radius: 2px;\n  background-color: ${(props) => (props.$dark ? '#fff4' : '#0004')};\n`\n\nconst BottomContainer = styled.div`\n  position: absolute;\n  top: calc(100% + 8px);\n  right: 0;\n  display: flex;\n  flex-direction: row;\n  align-items: flex-end;\n  gap: 8px;\n`\n\nconst ColorPicker = styled.input.attrs({ type: 'color' })`\n  background: ${(props) => props.value};\n  appearance: none;\n  border: none;\n  border-radius: 8px;\n  overflow: hidden;\n  width: 30px;\n  height: 30px;\n  border: 3px solid ${(props) => (props.isSelected ? 'black' : 'transparent')};\n  ${CSSShadows.medium}\n  cursor: pointer;\n\n  ::-webkit-color-swatch-wrapper {\n    padding: 0;\n  }\n  ::-webkit-color-swatch {\n    border: none;\n  }\n`\n\nconst ToggleGrid = styled.div.attrs({ title: 'Trykk for å skru av/på rutenett' })`\n  background: #fff;\n  border: 3px solid ${(props) => (props.isSelected ? 'black' : 'transparent')};\n  box-sizing: border-box;\n  color: #000;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 20px;\n  appearance: none;\n  border-radius: 8px;\n  overflow: hidden;\n  width: 30px;\n  height: 30px;\n  ${CSSShadows.medium}\n  cursor: pointer;\n`\n\nconst ChangeColorButton = styled.div`\n  width: 24px;\n  height: 24px;\n  background-color: ${(props) => props.color};\n  opacity: ${(props) => (props.isSelected ? 1 : 0.75)};\n  border: 3px solid ${(props) => (props.isSelected ? 'black' : 'transparent')};\n  ${CSSShadows.medium}\n  border-radius: 8px;\n  cursor: pointer;\n`\n\nconst ShowError = styled.div`\n  border-radius: 7px;\n  z-index: 1001;\n  background: #000;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  padding: 16px;\n  font-family: monospace;\n  font-size: 16px;\n  text-align: left;\n\n  pre {\n    color: red;\n  }\n`\n","import { useCallback, useEffect, useRef, useState } from 'react'\nimport styled from 'styled-components'\nimport {\n  addDoc,\n  arrayRemove,\n  arrayUnion,\n  collection,\n  deleteDoc,\n  doc,\n  getDoc,\n  getFirestore,\n  setDoc,\n  updateDoc,\n} from 'firebase/firestore'\nimport { getStorage, ref, uploadString, getDownloadURL } from 'firebase/storage'\nimport { setOptions, setEngine, runCode } from 'client-side-python-runner'\nimport QRCode from 'qrcode.react'\nimport { CodeEditor, BlocklyEditor } from '../../components/CodeEditor'\nimport { Graphics } from '../../components/Graphics'\nimport { Button, LinkButton } from '../../components/Button'\nimport { useStore } from '../../store'\nimport { useParams, useHistory } from 'react-router'\nimport { useCopyToClipboard } from 'react-use'\nimport Blockly from 'blockly'\nimport { login } from '../../App'\nimport { CSSShadows } from '../../constants'\n\nexport function JulekortSide({ embedded = false }) {\n  const { prosjektId = null } = useParams()\n  const history = useHistory()\n  const [projectData, setProjectData] = useState(null)\n  const isLoadingProject = useRef(false)\n  const [youAreOwner, setYouAreOwner] = useState(false)\n  const [codeIsSaving, setCodeIsSaving] = useState(false)\n  const [codeGotSaved, setCodeGotSaved] = useState(false)\n  const [imageNumber, updateImageNumber] = useState(0)\n  const [shareModal, openShareModal] = useState(false)\n  const [waitingToDownloadImage, waitToDownloadImage] = useState(false)\n  const [, copyToClipboard] = useCopyToClipboard()\n\n  const userId = useStore((state) => state.userId)\n  const title = useStore((store) => store.title)\n  const setTitle = useStore((store) => store.setTitle)\n  const image = useStore((store) => store.image)\n  const canvasColor = useStore((store) => store.canvasColor)\n  const setCanvasColor = useStore((store) => store.setCanvasColor)\n\n  const pythonCode = useStore((state) => state.pythonCode)\n  const setPythonCode = useStore((state) => state.setPythonCode)\n  const preDefinedPythonCode = useStore((state) => state.preDefinedPythonCode)\n  const extraPythonCodeForTheBrowserRendering = useStore((state) => state.extraPythonCodeForTheBrowserRendering)\n  const blocklyPythonCode = useStore((state) => state.blocklyPythonCode)\n  const setBlocklyPythonCode = useStore((state) => state.setBlocklyPythonCode)\n  const downloadablePythonCode = useStore((state) => state.downloadablePythonCode)\n  const blocklyXml = useStore((state) => state.blocklyXml)\n  const setBlocklyXml = useStore((state) => state.setBlocklyXml)\n  const blocklyWorkspace = useStore((state) => state.blocklyWorkspace)\n  const addLog = useStore((state) => state.addLog)\n  const [pythonEngineLoading, setLoadingPython] = useState(false)\n  const editorMode = useStore((state) => state.editorMode)\n  const editor = useStore((state) => state.editor)\n  const setEditorMode = useStore((state) => state.setEditorMode)\n  const setError = useStore((state) => state.setError)\n  const clearError = useStore((state) => state.clearError)\n  const pythonErrorLineNumberOffset = useStore((state) => state.pythonErrorLineNumberOffset)\n\n  useEffect(() => {\n    if (prosjektId && (projectData === null || prosjektId !== projectData.id)) {\n      if ((embedded || blocklyWorkspace || editor) && typeof userId === 'string') {\n        const getProject = async () => {\n          isLoadingProject.current = true\n          const docSnap = await getDoc(doc(getFirestore(), 'projects', prosjektId))\n          if (docSnap.exists()) {\n            const data = docSnap.data()\n            if (blocklyWorkspace) {\n              try {\n                if (data.blocklyXml === '') {\n                  blocklyWorkspace.clear()\n                } else {\n                  blocklyWorkspace.clear()\n                  const xml = Blockly.Xml.textToDom(data.blocklyXml)\n                  Blockly.Xml.clearWorkspaceAndLoadFromXml(xml, blocklyWorkspace)\n                }\n              } catch (error) {\n                console.error('Kunne ikke laste inn Blockly-koden. Det var noe feil med den...', error)\n                alert('Kunne ikke laste inn oppgaven...')\n              }\n            }\n            if (data.blocklyXml) setBlocklyXml(data.blocklyXml)\n            if (data.pythonCode) setPythonCode(data.pythonCode)\n            if (data.blocklyPythonCode) setBlocklyPythonCode(data.blocklyPythonCode)\n            if (data.canvasColor) setCanvasColor(data.canvasColor)\n            setTitle(data.title)\n            setProjectData({ id: prosjektId, ...data })\n            setYouAreOwner(data.author === '/users/' + (userId || ''))\n            console.log('Document data:', docSnap.data())\n          } else {\n            console.log('Fant ikke dokumentet :(')\n            history.push('/julekort')\n          }\n          isLoadingProject.current = false\n        }\n        if (!isLoadingProject.current) getProject()\n      }\n    }\n  }, [\n    prosjektId,\n    projectData,\n    setBlocklyXml,\n    setBlocklyPythonCode,\n    setPythonCode,\n    setCanvasColor,\n    setTitle,\n    blocklyWorkspace,\n    embedded,\n    editor,\n    history,\n    userId,\n  ])\n\n  useEffect(() => {\n    setOptions({\n      output: (item) => {\n        addLog(item)\n        console.log(item)\n      },\n      error: null,\n      onLoading: (engine) => setLoadingPython(engine),\n      onLoaded: () => {\n        setLoadingPython(false)\n      },\n      loadVariablesBeforeRun: true,\n      storeVariablesAfterRun: true,\n    })\n    setEngine('skulpt', '1.0.0')\n  }, [addLog])\n\n  const EditorHeader = ({ runCodeFunction }) => (\n    <StyledEditorHeader>\n      {editorMode === 'python' && (\n        <>\n          <Button onClick={() => setEditorMode('blockly')}>\n            Gå tilbake til blokker <i className=\"fas fa-shapes\" />\n          </Button>\n        </>\n      )}\n      {editorMode === 'blockly' && (\n        <Button\n          onClick={() => {\n            setEditorMode('python')\n            setPythonCode(downloadablePythonCode)\n          }}\n        >\n          Gjør om til Python <i className=\"fas fa-code\" />\n        </Button>\n      )}\n      {editorMode === 'python' && false && (\n        <>\n          <Button onClick={() => download('julekort.py', pythonCode)}>\n            Last ned Python-koden som en fil <i className=\"fas fa-download\" />\n          </Button>\n        </>\n      )}\n      {editorMode === 'blockly' && false && (\n        <>\n          <Button onClick={() => download('julekort-blockly.xml', blocklyXml)}>\n            Last ned blokkene som en fil <i className=\"fas fa-download\" />\n          </Button>\n          <Button onClick={() => download('julekort.py', downloadablePythonCode)}>\n            Last ned blokkene som Python-kode <i className=\"fas fa-code\" /> <i className=\"fas fa-download\" />\n          </Button>\n        </>\n      )}\n      {prosjektId && youAreOwner && (\n        <SaveButton onClick={codeGotSaved || codeIsSaving ? () => {} : save}>\n          {codeGotSaved ? (\n            <>\n              Julekortet ble lagret <i className=\"fas fa-check\" />\n            </>\n          ) : codeIsSaving ? (\n            <>\n              Lagrer julekortet <i className=\"fas fa-sync fa-spin\" />\n            </>\n          ) : (\n            <>\n              Lagre julekortet <i className=\"fas fa-save\" />\n            </>\n          )}\n        </SaveButton>\n      )}\n      {!prosjektId && (\n        <SaveButton onClick={create}>\n          Lagre julekortet <i className=\"fas fa-save\" />\n        </SaveButton>\n      )}\n      {prosjektId && !youAreOwner && (\n        <Button onClick={remix}>\n          Lag en kopi av julekortet <i className=\"fas fa-copy\" />\n        </Button>\n      )}\n      {prosjektId && youAreOwner && (\n        <Button onClick={remix}>\n          Lag en kopi av julekortet <i className=\"fas fa-copy\" />\n        </Button>\n      )}\n      {prosjektId && youAreOwner && (\n        <Button onClick={deleteProject}>\n          Slett julekortet <i className=\"fas fa-trash\" />\n        </Button>\n      )}\n      {prosjektId && (\n        <Button onClick={() => openShareModal(true)}>\n          Del julekortet med andre <i className=\"fas fa-share\" />\n        </Button>\n      )}\n      <RunButton onClick={runCodeFunction}>\n        Kjør koden <i className=\"fas fa-play\" />\n      </RunButton>\n    </StyledEditorHeader>\n  )\n\n  const download = (filename, text) => {\n    const linkElement = document.createElement('a')\n    linkElement.href = 'data:text/plain;charset=utf-8,' + encodeURIComponent(text)\n    linkElement.download = filename\n    linkElement.click()\n  }\n\n  const getTitle = useCallback(() => {\n    let newTitle = title\n    if (!newTitle) {\n      newTitle = prompt('Hva skal julekortet hete?')\n      setTitle(newTitle)\n    }\n    return newTitle\n  }, [title, setTitle])\n\n  const captureAndUploadImage = async (id) => {\n    if (image) {\n      const storage = getStorage()\n      const imageRef = ref(storage, 'projects/' + id + '.png')\n      await uploadString(imageRef, image, 'data_url')\n      return await getDownloadURL(imageRef)\n    }\n    return ''\n  }\n\n  const save = async () => {\n    setCodeIsSaving(true)\n    const image = await captureAndUploadImage(prosjektId)\n    await setDoc(\n      doc(getFirestore(), 'projects', prosjektId),\n      {\n        blocklyXml,\n        blocklyPythonCode,\n        modified: new Date(),\n        pythonCode,\n        title: getTitle(),\n        usingPython: editorMode === 'python',\n        canvasColor,\n        ...(image ? { image } : {}),\n      },\n      { merge: true }\n    )\n    setCodeGotSaved(true)\n    setCodeIsSaving(false)\n  }\n\n  const create = async () => {\n    const email = userId || (await login())\n\n    setCodeIsSaving(true)\n    const docRef = await addDoc(collection(getFirestore(), 'projects'), {\n      author: '/users/' + email,\n      blocklyXml,\n      blocklyPythonCode,\n      created: new Date(),\n      modified: new Date(),\n      pythonCode,\n      title: getTitle(),\n      usingPython: editorMode === 'python',\n      canvasColor,\n    })\n\n    await updateDoc(doc(getFirestore(), 'projects', docRef.id), {\n      image: await captureAndUploadImage(docRef.id),\n    })\n\n    await updateDoc(doc(getFirestore(), 'collections', 'trondheim-julekurs-2021'), {\n      projects: arrayUnion(docRef.id),\n    })\n\n    await updateDoc(doc(getFirestore(), 'users', email), {\n      projects: arrayUnion(docRef.id),\n    })\n\n    setCodeGotSaved(true)\n    setCodeIsSaving(false)\n\n    history.push('/julekort/' + docRef.id)\n  }\n\n  const remix = async () => {\n    const email = userId || (await login())\n\n    const docRef = await addDoc(collection(getFirestore(), 'projects'), {\n      author: '/users/' + email,\n      blocklyXml,\n      blocklyPythonCode,\n      copiedFrom: prosjektId,\n      created: new Date(),\n      image: projectData.image || '',\n      modified: new Date(),\n      pythonCode,\n      title: getTitle(),\n      usingPython: editorMode === 'python',\n      canvasColor,\n    })\n\n    await updateDoc(doc(getFirestore(), 'projects', docRef.id), {\n      image: await captureAndUploadImage(docRef.id),\n    })\n\n    await updateDoc(doc(getFirestore(), 'collections', 'trondheim-julekurs-2021'), {\n      projects: arrayUnion(docRef.id),\n    })\n\n    await updateDoc(doc(getFirestore(), 'users', email), {\n      projects: arrayUnion(docRef.id),\n    })\n\n    history.push('/julekort/' + docRef.id)\n  }\n\n  const deleteProject = async () => {\n    if (\n      prosjektId &&\n      prompt('Skriv: \"Jeg vil slette julekortet\" for å slette julekortet') === 'Jeg vil slette julekortet'\n    ) {\n      const email = userId || (await login())\n\n      const docRef = doc(getFirestore(), 'projects', prosjektId)\n\n      await updateDoc(doc(getFirestore(), 'users', email), {\n        projects: arrayRemove(docRef.id),\n      })\n\n      await updateDoc(doc(getFirestore(), 'collections', 'trondheim-julekurs-2021'), {\n        projects: arrayRemove(docRef.id),\n      })\n\n      await deleteDoc(docRef)\n\n      setTitle('')\n      alert('Julekortet ble fjernet!')\n      history.push('/julekort')\n    } else {\n      alert('Du skrev \"Jeg vil slette julekortet\" feil. Prøv igjen...')\n    }\n  }\n\n  const afterCodeRun = () => {\n    updateImageNumber((n) => n + 1)\n    setCodeGotSaved(false)\n  }\n\n  const runPythonCode = useCallback(() => {\n    const run = async () => {\n      await setEngine('skulpt', '1.0.0')\n      clearError()\n      if (editor) {\n        window.monaco.editor.setModelMarkers('getModel' in editor ? editor.getModel() : editor, 'python-editor', [])\n      }\n      try {\n        await runCode(preDefinedPythonCode + extraPythonCodeForTheBrowserRendering + pythonCode, {\n          turtleGraphics: {\n            target: 'julekort-grafikk-turtle',\n            width: 1600,\n            height: 1600,\n            assets: {\n              'nisse-old-female': process.env.PUBLIC_URL + '/bilder/nisse-old-female.png',\n              'nisse-old-male': process.env.PUBLIC_URL + '/bilder/nisse-old-male.png',\n            },\n          },\n        })\n        afterCodeRun()\n      } catch (error) {\n        setError(error)\n        console.error(error)\n        if (error.lineNumber && error.lineNumber > pythonErrorLineNumberOffset && editor) {\n          const lineNumberInEditor = error.lineNumber - pythonErrorLineNumberOffset\n          window.monaco.editor.setModelMarkers('getModel' in editor ? editor.getModel() : editor, 'python-editor', [\n            {\n              startLineNumber: lineNumberInEditor,\n              startColumn: 0,\n              endLineNumber: lineNumberInEditor + 1,\n              endColumn: 0,\n              message: error.type + ': ' + error.message,\n              severity: 3,\n              source: '',\n            },\n          ])\n        }\n      }\n    }\n    run()\n  }, [\n    preDefinedPythonCode,\n    extraPythonCodeForTheBrowserRendering,\n    pythonCode,\n    clearError,\n    editor,\n    setError,\n    pythonErrorLineNumberOffset,\n  ])\n\n  const runBlocklyCode = useCallback(() => {\n    const run = async () => {\n      await setEngine('skulpt', '1.0.0')\n      clearError()\n      try {\n        await runCode(blocklyPythonCode, {\n          turtleGraphics: {\n            target: 'julekort-grafikk-turtle',\n            width: 1600,\n            height: 1600,\n            assets: {\n              'nisse-old-female': process.env.PUBLIC_URL + '/bilder/nisse-old-female.png',\n              'nisse-old-male': process.env.PUBLIC_URL + '/bilder/nisse-old-male.png',\n            },\n          },\n        })\n        afterCodeRun()\n      } catch (error) {\n        setError(error)\n        console.error(error)\n      }\n    }\n    run()\n  }, [blocklyPythonCode, clearError, setError])\n\n  const hasRan = useRef(false)\n  useEffect(() => {\n    if (embedded && projectData && !hasRan.current) {\n      hasRan.current = true\n      if (projectData.usingPython) {\n        runPythonCode()\n      } else {\n        runBlocklyCode()\n      }\n    }\n  }, [embedded, projectData, runBlocklyCode, runPythonCode])\n\n  if (embedded) {\n    return (\n      <EmbeddedView>\n        <h1>{title || ''}</h1>\n        <Graphics imageNumber={imageNumber} fullScreen />\n        <LinkButton href={window.location.origin + process.env.PUBLIC_URL + '#/julekort/' + prosjektId}>\n          Se koden bak\n        </LinkButton>\n        <Button onClick={() => openShareModal(true)}>\n          Del julekortet videre <i className=\"fas fa-share\" />\n        </Button>\n      </EmbeddedView>\n    )\n  }\n\n  return (\n    <>\n      <EditableTitle\n        placeholder=\"Sett et navn på julekortet 🖊\"\n        value={title || ''}\n        onChange={(e) => setTitle(e.target.value)}\n        readOnly={prosjektId !== null && !youAreOwner}\n      />\n      <Container>\n        <Graphics imageNumber={imageNumber} />\n        {editorMode === 'python' ? (\n          <CodeEditor\n            onChange={() => {\n              setCodeGotSaved(false)\n            }}\n            language=\"python\"\n            above={<EditorHeader runCodeFunction={runPythonCode} />}\n          />\n        ) : (\n          <BlocklyEditor\n            onChange={() => {\n              setCodeGotSaved(false)\n            }}\n            above={<EditorHeader runCodeFunction={runBlocklyCode} />}\n          />\n        )}\n        {pythonEngineLoading ? `Laster inn Python (${pythonEngineLoading}) ...` : ''}\n      </Container>\n      {shareModal && (\n        <ShareModalContainer onClick={() => openShareModal(false)}>\n          <ShareModal onClick={(e) => e.stopPropagation()}>\n            <CloseModalButton onClick={() => openShareModal(false)} />\n            <h3 style={{ marginTop: 16 }}>Del prosjektet</h3>\n            <OpenInFullScreen\n              href={window.location.origin + process.env.PUBLIC_URL + '#/julekort/' + prosjektId + '/embedded'}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Åpne prosjektet i full skjerm <i className=\"fas fa-external-link-alt\" />\n            </OpenInFullScreen>\n            <LinkShareContainer>\n              Kopier link\n              <LinkShare\n                value={window.location.origin + process.env.PUBLIC_URL + '#/julekort/' + prosjektId + '/embedded'}\n                readOnly\n              />\n              <CopyLinkButton\n                onClick={() => {\n                  copyToClipboard(\n                    window.location.origin + process.env.PUBLIC_URL + '#/julekort/' + prosjektId + '/embedded'\n                  )\n                }}\n              />\n            </LinkShareContainer>\n            <LinkShareContainer>\n              Scan QR-kode\n              <QRCode\n                value={window.location.origin + process.env.PUBLIC_URL + '#/julekort/' + prosjektId + '/embedded'}\n              />\n            </LinkShareContainer>\n            <Button\n              onClick={async () => {\n                if (!window.image) {\n                  waitToDownloadImage(true)\n                  if (editorMode === 'python') {\n                    await runPythonCode()\n                  } else {\n                    await runBlocklyCode()\n                  }\n                }\n                waitToDownloadImage(false)\n                setTimeout(() => {\n                  const linkElement = document.createElement('a')\n                  linkElement.download = (title || 'julekort').replace(/[^a-zøæå ]/gi, '') + '.png'\n                  linkElement.href = window.image\n                  linkElement.click()\n                }, 1000)\n              }}\n            >\n              {waitingToDownloadImage ? (\n                <>\n                  Vent et par sekunder! Må tegne julekortet først <i className=\"fas fa-sync fa-spin\" />\n                </>\n              ) : (\n                <>\n                  Last ned bilde <i className=\"fas fa-download\" />\n                </>\n              )}\n            </Button>\n          </ShareModal>\n        </ShareModalContainer>\n      )}\n    </>\n  )\n}\n\nconst EditableTitle = styled.input.attrs({ type: 'text' })`\n  font-size: 3rem;\n  width: 100%;\n  margin: 1rem 2rem 3rem;\n  padding: 1rem 0;\n  color: #fff;\n  background: none;\n  border: none;\n  outline: none;\n  text-align: center;\n  box-sizing: border-box;\n\n  text-shadow: 0 4px 8px #0008;\n`\n\nconst Container = styled.div`\n  position: relative;\n  text-align: center;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  gap: 16px;\n  margin-bottom: 8px;\n`\n\nconst StyledEditorHeader = styled.div`\n  position: absolute;\n  bottom: 100%;\n  left: 0;\n  right: 0;\n  margin-bottom: 6px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  gap: 8px;\n  overflow-x: auto;\n\n  > button {\n    white-space: pre;\n  }\n`\n\nconst RunButton = styled(Button)`\n  background-color: #080;\n  color: #fff;\n\n  :hover {\n    background-color: #060;\n  }\n`\n\nconst SaveButton = styled(Button)``\n\nconst ShareModalContainer = styled.div`\n  position: fixed;\n  z-index: 1000;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  background-color: #0002;\n  backdrop-filter: blur(5px);\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`\n\nconst ShareModal = styled.div`\n  position: relative;\n  background-color: #000;\n  border-radius: 8px;\n  overflow: auto;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  width: 100%;\n  max-width: 640px;\n  margin: 16px;\n  padding: 16px;\n  ${CSSShadows.large}\n`\n\nconst LinkShareContainer = styled.div`\n  display: flex;\n  flex-flow: row wrap;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  gap: 16px;\n  font-size: 16px;\n  margin-bottom: 16px;\n  position: relative;\n`\n\nconst OpenInFullScreen = styled.a`\n  font-size: 16px;\n  text-decoration: underline;\n  margin: 0 0 32px;\n`\n\nconst LinkShare = styled.input`\n  flex: 1 0 200px;\n  background: #fff2;\n  color: #fff;\n  border-radius: 4px;\n  border: none;\n  padding: 12px calc(8px + 36px) 12px 8px;\n  font-size: 16px;\n`\n\nconst CopyLinkButton = styled.i.attrs({\n  className: 'fas fa-copy',\n})`\n  cursor: pointer;\n  flex: 0 0 auto;\n  position: absolute;\n  right: 16px;\n`\n\nconst CloseModalButton = styled.i.attrs({\n  className: 'fas fa-close',\n})`\n  position: absolute;\n  right: 18px;\n  top: 12px;\n  cursor: pointer;\n`\n\nconst EmbeddedView = styled.div`\n  position: fixed;\n  z-index: 100000;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  background-color: #4c1616;\n\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  flex-flow: column nowrap;\n  gap: 64px;\n\n  > h1 {\n    margin: 0;\n  }\n`\n","import { useEffect, useState } from 'react'\nimport { Link, useParams } from 'react-router-dom'\nimport styled from 'styled-components'\nimport mdIt from 'markdown-it'\nimport hljs from 'highlight.js'\nimport 'highlight.js/styles/vs2015.css'\nimport { CSSShadows } from '../../constants'\n\nconst md = mdIt({\n  langPrefix: 'language-',\n  highlight: function (code, language) {\n    if (language && hljs.getLanguage(language)) {\n      try {\n        return hljs.highlight(code, {\n          language,\n        }).value\n      } catch (ex) {}\n    }\n\n    return ''\n  },\n})\n\nexport function OppgaveOversiktSide() {\n  const [tasks, setTasks] = useState([])\n\n  useEffect(() => {\n    fetch(process.env.PUBLIC_URL + '/oppgaver/index.json')\n      .then((r) => r.json())\n      .then((index) => {\n        setTasks(index.oppgaver)\n      })\n  }, [])\n\n  return (\n    <TasksContainer>\n      <h2>Velg hva du vil lage</h2>\n      <h3>Nivå: Lett</h3>\n      <TaskLevelContainer>\n        {tasks\n          .filter(({ level = '' }) => level === 'easy')\n          .map((task) => (\n            <Task key={task.id} to={'/oppgaver/' + task.id + (task.googleDocs ? '.docs' : '')}>\n              {task.image && <LinkImage src={task.image} alt={task.title} />}\n              <span>{task.title}</span>\n            </Task>\n          ))}\n      </TaskLevelContainer>\n      <h3>Nivå: Middels</h3>\n      <TaskLevelContainer>\n        {tasks\n          .filter(({ level = '' }) => level === 'medium')\n          .map((task) => (\n            <Task key={task.id} to={'/oppgaver/' + task.id + (task.googleDocs ? '.docs' : '')}>\n              {task.image && <LinkImage src={task.image} alt={task.title} />}\n              <span>{task.title}</span>\n            </Task>\n          ))}\n      </TaskLevelContainer>\n      <h3>Nivå: Vanskelig</h3>\n      <TaskLevelContainer>\n        {tasks\n          .filter(({ level = '' }) => level === 'hard')\n          .map((task) => (\n            <Task key={task.id} to={'/oppgaver/' + task.id + (task.googleDocs ? '.docs' : '')}>\n              {task.image && <LinkImage src={task.image} alt={task.title} />}\n              <span>{task.title}</span>\n            </Task>\n          ))}\n      </TaskLevelContainer>\n    </TasksContainer>\n  )\n}\n\nexport function OppgaveSide() {\n  const [task, setTask] = useState('')\n  const { oppgaveId = null } = useParams()\n  const [isDocs, setIsDocs] = useState(false)\n  const [docsUrl, setDocsUrl] = useState('')\n\n  useEffect(() => {\n    const isDocs = oppgaveId.endsWith('.docs')\n    setIsDocs(isDocs)\n    if (isDocs) {\n      fetch(process.env.PUBLIC_URL + `/oppgaver/index.json`)\n        .then((r) => r.json())\n        .then((index) => {\n          if ('oppgaver' in index) {\n            setDocsUrl(index.oppgaver.find((task) => task.id === oppgaveId.slice(0, -5))?.googleDocs || '')\n          }\n        })\n    } else {\n      fetch(process.env.PUBLIC_URL + `/oppgaver/${oppgaveId}.md`)\n        .then((r) => r.text())\n        .then((markdown) => {\n          setTask(markdown)\n        })\n    }\n  }, [oppgaveId])\n\n  if (isDocs) {\n    return (\n      <GoogleDocsContainer>\n        <GoogleDocsEmbedded src={docsUrl + '?embedded=true'} />\n      </GoogleDocsContainer>\n    )\n  }\n\n  return (\n    <TaskContainer>\n      <Markdown>{task}</Markdown>\n    </TaskContainer>\n  )\n}\n\nfunction Markdown({ children, ...props }) {\n  const [renderedMarkdown, setRenderedMarkdown] = useState('')\n\n  useEffect(() => {\n    setRenderedMarkdown(md.render(children.replace(/\\\\n/g, '\\n')))\n  }, [children])\n\n  return <RenderedMarkdown dangerouslySetInnerHTML={{ __html: renderedMarkdown }} {...props} />\n}\n\nconst TasksContainer = styled.div`\n  text-align: center;\n  padding: 0 2rem 2rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n  flex: 1 0 auto;\n  box-sizing: border-box;\n  width: 100%;\n`\n\nconst TaskContainer = styled(TasksContainer)`\n  width: 830px;\n  max-width: calc(100% - 2rem);\n`\n\nconst GoogleDocsContainer = styled(TaskContainer)`\n  padding: 0;\n  margin: 0 1rem 1rem;\n  background-color: white;\n  border-radius: 8px;\n  overflow: hidden;\n  ${CSSShadows.large}\n`\n\nconst TaskLevelContainer = styled.div`\n  margin-bottom: 2em;\n  width: 100%;\n  max-width: 1300px;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, 200px);\n  grid-gap: 1rem;\n  justify-content: space-evenly;\n`\n\nconst Task = styled(Link)`\n  > * {\n    transition: transform 0.1s;\n  }\n\n  > span {\n    display: block;\n  }\n\n  :hover {\n    > * {\n      transform: translateY(-10px);\n    }\n  }\n`\n\nconst LinkImage = styled.img`\n  width: 200px;\n  height: 200px;\n  object-fit: cover;\n  border-radius: 8px;\n  background-color: #fff;\n  ${CSSShadows.large}\n`\n\nconst GoogleDocsEmbedded = styled.iframe`\n  border: none;\n  width: 100%;\n  flex: 1 0 auto;\n`\n\nconst RenderedMarkdown = styled.div`\n  text-align: left;\n  width: 100%;\n  max-width: 640px;\n\n  img {\n    max-width: 100%;\n  }\n`\n","import styled from 'styled-components'\nimport { getFirestore, collection } from 'firebase/firestore'\nimport { useCollection } from 'react-firebase-hooks/firestore'\nimport { CSSShadows } from '../../constants'\n\nexport function GalleriSide() {\n  const [value, loading, error] = useCollection(collection(getFirestore(), 'projects'), {\n    snapshotListenOptions: { includeMetadataChanges: true },\n  })\n\n  return (\n    <Container>\n      <h2 style={{ margin: 0 }}>Her er alle julekortene</h2>\n      <h4 style={{ marginTop: 0 }}>(Trykk på julekortene for å se på koden bak 🧐)</h4>\n      {error && <strong>Error: {JSON.stringify(error)}</strong>}\n      {loading && <span>Henter julekort ...</span>}\n      <ProjectsContainer>\n        {value &&\n          value.docs\n            .map((doc) => ({ id: doc.id, ...doc.data() }))\n            .sort((a, b) => b.modified.seconds - a.modified.seconds)\n            .map(({ id, title, image }) => {\n              return (\n                <Project key={id}>\n                  <LinkButton href={process.env.PUBLIC_URL + '#/julekort/' + id} target=\"_blank\">\n                    <ThumbnailImage src={image} alt={title} />\n                  </LinkButton>\n                </Project>\n              )\n            })}\n      </ProjectsContainer>\n    </Container>\n  )\n}\n\nconst Container = styled.div`\n  text-align: center;\n  padding: 0 2rem 2rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n  box-sizing: border-box;\n  width: 100%;\n`\n\nconst ProjectsContainer = styled.div`\n  margin-bottom: 2em;\n  width: 100%;\n  max-width: 1300px;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, 200px);\n  grid-gap: 1rem;\n  justify-content: space-evenly;\n`\n\nconst Project = styled.div`\n  width: 200px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n\n  > * {\n    transition: transform 0.1s;\n  }\n\n  :hover {\n    > * {\n      transform: translateY(-10px);\n    }\n  }\n`\n\nconst ThumbnailImage = styled.img`\n  width: 100%;\n  border-radius: 8px;\n  ${CSSShadows.large}\n`\n\nconst LinkButton = styled.a`\n  color: #61dafb;\n  cursor: pointer;\n  background: none;\n  border: none;\n  font-size: calc(10px + 2vmin);\n  padding: 0;\n`\n","import styled from 'styled-components'\nimport { getFirestore, doc } from 'firebase/firestore'\nimport { useDocumentOnce } from 'react-firebase-hooks/firestore'\nimport { CSSShadows } from '../../constants'\n\nexport function ProfilSide({ email }) {\n  const [value, loading, error] = useDocumentOnce(doc(getFirestore(), 'users', email))\n  const projects = value?.data()?.projects\n\n  return (\n    <Container>\n      <h2>Her er dine julekort</h2>\n      {error && <strong>Error: {JSON.stringify(error)}</strong>}\n      {loading && <span>Henter julekort ...</span>}\n      {projects &&\n        (projects.length === 0 ? (\n          <>Du har ingen julekort for øyeblikket</>\n        ) : (\n          <ProjectsContainer>\n            {projects.map((project) => (\n              <ProjectItem key={project} id={project} />\n            ))}\n          </ProjectsContainer>\n        ))}\n    </Container>\n  )\n}\n\nfunction ProjectItem({ id }) {\n  const [value, loading, error] = useDocumentOnce(doc(getFirestore(), 'projects', id))\n  const data = value?.data()\n\n  return (\n    <Project>\n      {error && <strong>Error: {JSON.stringify(error)}</strong>}\n      {loading && <span>Henter julekort ...</span>}\n      {data && (\n        <LinkButton href={process.env.PUBLIC_URL + '#/julekort/' + id} target=\"_blank\">\n          <ThumbnailImage src={data.image} alt={data.title} />\n        </LinkButton>\n      )}\n    </Project>\n  )\n}\n\nconst Container = styled.div`\n  text-align: center;\n  padding: 0 2rem 2rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 16px;\n  box-sizing: border-box;\n  width: 100%;\n`\n\nconst ProjectsContainer = styled.div`\n  margin-bottom: 2em;\n  width: 100%;\n  max-width: 1300px;\n  display: grid;\n  grid-template-columns: repeat(auto-fill, 200px);\n  grid-gap: 1rem;\n  justify-content: space-evenly;\n`\n\nconst Project = styled.div`\n  width: 200px;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n\n  > * {\n    transition: transform 0.1s;\n  }\n\n  :hover {\n    > * {\n      transform: translateY(-10px);\n    }\n  }\n`\n\nconst ThumbnailImage = styled.img`\n  width: 100%;\n  border-radius: 8px;\n  ${CSSShadows.large}\n`\n\nconst LinkButton = styled.a`\n  color: #61dafb;\n  cursor: pointer;\n  background: none;\n  border: none;\n  font-size: calc(10px + 2vmin);\n  padding: 0;\n`\n","import { Link, useLocation } from 'react-router-dom'\nimport styled from 'styled-components'\n\nexport const Header = () => {\n  const location = useLocation()\n  const path = location.pathname\n\n  return (\n    <Container>\n      <Image src={process.env.PUBLIC_URL + '/bilder/gradient-christmas-background.png'} alt=\"Christmas image\" />\n      <TextContainer>\n        <StyledLink to=\"/\" $active={path === '/'}>\n          Hjem 🏡\n        </StyledLink>\n        <StyledLink to=\"/oppgaver\" $active={path.startsWith('/oppgaver')}>\n          Finn oppgaver 📃\n        </StyledLink>\n        <StyledLink to=\"/julekort\" $active={path.startsWith('/julekort')}>\n          Lag julekort 🔨\n        </StyledLink>\n        <StyledLink to=\"/galleri\" $active={path.startsWith('/galleri')}>\n          Se andre julekort 🤩\n        </StyledLink>\n      </TextContainer>\n    </Container>\n  )\n}\n\nconst Container = styled.div`\n  position: relative;\n  text-align: center;\n  margin-bottom: 2rem;\n`\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n  text-align: center;\n  font-size: clamp(1.5rem, calc(10px + 2vmin), 2rem);\n  color: ${(props) => (props.$active ? '#fff' : '#61dafb')};\n  flex-basis: 300px;\n  white-space: nowrap;\n  z-index: 1;\n`\n\nconst Image = styled.img`\n  pointer-events: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  min-height: 200px;\n  object-fit: cover;\n  opacity: 0.5;\n`\n\nconst TextContainer = styled.div`\n  display: flex;\n  justify-content: space-evenly;\n  flex-flow: row wrap;\n  padding-top: max(80px, 10vw);\n`\n","import { initializeApp } from 'firebase/app'\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyDm8wBm8mxvNY7KYLdKBUzvvsr-BK7yiss',\n  authDomain: 'kodeklubben-trondheim-julekurs.firebaseapp.com',\n  projectId: 'kodeklubben-trondheim-julekurs',\n  storageBucket: 'kodeklubben-trondheim-julekurs.appspot.com',\n  messagingSenderId: '221700445961',\n  appId: '1:221700445961:web:c11a72effbf6e05ccf65d8',\n  measurementId: 'G-XCS29DZ9L9',\n}\n\nconst firebaseApp = initializeApp(firebaseConfig)\n\nexport default firebaseApp\n","import styled from 'styled-components'\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom'\nimport { JulekortSide } from './pages/julekort'\nimport { OppgaveSide, OppgaveOversiktSide } from './pages/oppgaver'\nimport { GalleriSide } from './pages/galleri'\nimport { ProfilSide } from './pages/profil'\nimport { Header } from './components/Header'\nimport { Button, LinkButton } from './components/Button'\nimport firebaseApp from './firebase'\nimport { doc, getFirestore, setDoc } from 'firebase/firestore'\n\nimport { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut } from 'firebase/auth'\n\nimport { useAuthState } from 'react-firebase-hooks/auth'\nimport { useEffect } from 'react'\nimport { useStore } from './store'\nimport { CSSShadows } from './constants'\n\nconst auth = getAuth(firebaseApp)\n\nexport const login = async () => {\n  const email = prompt('Email:')\n  const password = prompt('Passord: (finnes ikke brukeren fra før lager vi en ny bruker med dette passordet)')\n  try {\n    await signInWithEmailAndPassword(auth, email, password)\n  } catch (error) {\n    switch (error.code) {\n      case 'auth/invalid-email':\n        alert('Du må bruke en gyldig e-post, slik som dette: eksempel@hotmail.com')\n        break\n      case 'auth/user-not-found':\n        await createUserWithEmailAndPassword(auth, email, password)\n        await setDoc(doc(getFirestore(), 'users', email), {\n          projects: [],\n        })\n        alert('Vi lagde en ny bruker med denne e-posten: ' + email)\n        await signInWithEmailAndPassword(auth, email, password)\n        break\n      default:\n        alert('Du fikk en ukjent error: ' + error.code)\n    }\n    console.dir(error)\n  }\n  return email\n}\n\nconst logout = () => {\n  signOut(auth)\n}\n\nfunction App() {\n  const [user, loading, error] = useAuthState(auth)\n  const setUserId = useStore((store) => store.setUserId)\n\n  useEffect(() => {\n    if (!loading) setUserId(user?.email || '')\n  }, [user, loading, setUserId])\n\n  return (\n    <Router>\n      <Container>\n        <Header />\n        <LoginContainer>\n          {!user && !loading && !error && (\n            <>\n              <span>⚠ Du må logge inn for å lagre det du lager</span>\n              <Button onClick={login} $color=\"#333\" $hoverColor=\"#222\" $size=\"12px\">\n                Logg inn her\n              </Button>{' '}\n            </>\n          )}\n          {user && (\n            <>\n              <span>Hei, {user.email}!</span>\n              <LinkButton href={process.env.PUBLIC_URL + '#/profil'} $color=\"#333\" $hoverColor=\"#222\" $size=\"12px\">\n                Se dine julekort\n              </LinkButton>\n              <Button onClick={logout} $color=\"#333\" $hoverColor=\"#222\" $size=\"12px\">\n                Logg ut\n              </Button>\n            </>\n          )}\n        </LoginContainer>\n        <Content>\n          <Switch>\n            <Route path=\"/\" exact>\n              <h1>Velkommen til julekortverkstedet</h1>\n              <p>Lyst til å programmere digitale julekort som dette?</p>\n              <IntroImages>\n                <IntroImage\n                  src=\"https://firebasestorage.googleapis.com/v0/b/kodeklubben-trondheim-julekurs.appspot.com/o/projects%2FDwG3PrNjLsCXwDR22TwU.png?alt=media&token=34802d5d-da2a-4a55-be91-31515a1c8f17\"\n                  alt=\"Velkommen til julekurs\"\n                />\n                <IntroImage\n                  src=\"https://firebasestorage.googleapis.com/v0/b/kodeklubben-trondheim-julekurs.appspot.com/o/projects%2FMpUxmjDU6yB6GBk7oxW5.png?alt=media&token=ad405435-b2aa-44d2-af48-628fff7a3ff5\"\n                  alt=\"Snøflak\"\n                />\n              </IntroImages>\n              <p>Da har du kommet til riktig sted!</p>\n              <div style={{ textAlign: 'left', margin: 16 }}>\n                <h3>Slik starter du:</h3>\n                <ol>\n                  <li>\n                    Finn en oppgave på \"\n                    <a href={process.env.PUBLIC_URL + '#/oppgaver'} target=\"_blank\" rel=\"noreferrer\">\n                      Finn oppgaver 📃\n                    </a>\n                    \" (se øverst på siden)\n                  </li>\n                  <li>\n                    Åpne \"\n                    <a href={process.env.PUBLIC_URL + '#/julekort'} target=\"_blank\" rel=\"noreferrer\">\n                      Lag julekort 🔨\n                    </a>\n                    \"\n                  </li>\n                  <li>\n                    Lagre verket ditt med \"Lagre julekortet <i className=\"fas fa-save\" />\n                    \"-knappen\n                  </li>\n                  <li>\n                    Nyt verket ditt på \"\n                    <a href={process.env.PUBLIC_URL + '#/galleri'} target=\"_blank\" rel=\"noreferrer\">\n                      Se andre julekort 🤩\n                    </a>\n                    \"\n                  </li>\n                </ol>\n              </div>\n            </Route>\n            <Route path=\"/profil\">{user ? <ProfilSide email={user.email} /> : ''}</Route>\n            <Route path=\"/galleri\">\n              <GalleriSide />\n            </Route>\n            <Route path=\"/julekort\" exact>\n              <JulekortSide />\n            </Route>\n            <Route path=\"/julekort/:prosjektId/embedded\">\n              <JulekortSide embedded />\n            </Route>\n            <Route path=\"/julekort/:prosjektId\">\n              <JulekortSide />\n            </Route>\n            <Route path=\"/oppgaver\" exact>\n              <OppgaveOversiktSide />\n            </Route>\n            <Route path=\"/oppgaver/:oppgaveId\">\n              <OppgaveSide />\n            </Route>\n          </Switch>\n        </Content>\n      </Container>\n    </Router>\n  )\n}\n\nexport default App\n\nconst Container = styled.div`\n  background-color: #4c1616;\n  text-align: center;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n`\n\nconst Content = styled.div`\n  flex: 1 0 auto;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: calc(10px + 2vmin);\n  color: white;\n`\n\nconst LoginContainer = styled.div`\n  position: fixed;\n  z-index: 2000;\n  top: 6px;\n  left: 50%;\n  transform: translateX(-50%);\n  padding: 6px 16px;\n  background-color: #000;\n  color: #fff;\n  display: flex;\n  flex-flow: row nowrap;\n  gap: 16px;\n  align-items: center;\n  border-radius: 8px;\n  font-size: 14px;\n  ${CSSShadows.large}\n\n  :empty {\n    display: none;\n  }\n`\n\nconst IntroImages = styled.div`\n  display: flex;\n  flex-flow: row wrap;\n  gap: 16px;\n  margin: 16px;\n`\n\nconst IntroImage = styled.img`\n  width: 80%;\n  max-width: 300px;\n  margin: auto;\n  border-radius: 8px;\n  display: block;\n  ${CSSShadows.large}\n`\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}